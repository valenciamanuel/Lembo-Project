<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Gestión de Asociaciones</title>
  <link rel="stylesheet" href="stylep.css" />
</head>
<body>
  <main class="page">
    <h1 class="page__title">Gestión de Asociaciones</h1>

    <a href="#" class="acciones__btn acciones__btn--volver">← Volver</a>
    <button class="acciones__btn acciones__btn--create" onclick="abrirModal('crear')">Crear Asociación</button>

    <h2 class="page__title">Asociaciones Registradas</h2>
    <div id="lista-asociaciones" class="asociacion__lista"></div>

    <!-- MODAL CREAR -->
    <div id="modal-crear" class="modal">
      <div class="modal__content">
        <span class="modal__close" onclick="cerrarModal('crear')">&times;</span>
        <h2 class="modal__title">Crear Asociación</h2>
        <form onsubmit="crearAsociacion(event)">
          <div class="form__grupo">
            <label class="form__label">Sensores</label>
            <button type="button" class="form__crear-btn" onclick="crearItem('sensor')">+ Crear Sensor</button>
            <div class="form__checkboxes" id="checkbox-sensores"></div>
          </div>
          <div class="form__grupo">
            <label class="form__label">Insumos</label>
            <button type="button" class="form__crear-btn" onclick="crearItem('insumo')">+ Crear Insumo</button>
            <div class="form__checkboxes" id="checkbox-insumos"></div>
          </div>
          <div class="form__grupo">
            <label class="form__label">Ciclos</label>
            <button type="button" class="form__crear-btn" onclick="crearItem('ciclo')">+ Crear Ciclo</button>
            <div class="form__checkboxes" id="checkbox-ciclos"></div>
          </div>
          <div class="form__grupo">
            <label class="form__label">Usuarios</label>
            <button type="button" class="form__crear-btn" onclick="crearItem('usuario')">+ Crear Usuario</button>
            <div class="form__checkboxes" id="checkbox-usuarios"></div>
          </div>
          <button type="submit" class="form__btn">Guardar</button>
        </form>
        <pre id="resultado-crear" class="resultado"></pre>
      </div>
    </div>

    <!-- MODAL EDITAR -->
    <div id="modal-editar" class="modal">
      <div class="modal__content">
        <span class="modal__close" onclick="cerrarModal('editar')">&times;</span>
        <h2 class="modal__title">Editar Asociación</h2>
        <form onsubmit="guardarEdicion(event)">
          <div class="form__grupo">
            <label class="form__label">Sensores</label>
            <button type="button" class="form__crear-btn" onclick="crearItem('sensor')">+ Crear Sensor</button>
            <div class="form__checkboxes" id="editar-sensores"></div>
          </div>
          <div class="form__grupo">
            <label class="form__label">Insumos</label>
            <button type="button" class="form__crear-btn" onclick="crearItem('insumo')">+ Crear Insumo</button>
            <div class="form__checkboxes" id="editar-insumos"></div>
          </div>
          <div class="form__grupo">
            <label class="form__label">Ciclos</label>
            <button type="button" class="form__crear-btn" onclick="crearItem('ciclo')">+ Crear Ciclo</button>
            <div class="form__checkboxes" id="editar-ciclos"></div>
          </div>
          <div class="form__grupo">
            <label class="form__label">Usuarios</label>
            <button type="button" class="form__crear-btn" onclick="crearItem('usuario')">+ Crear Usuario</button>
            <div class="form__checkboxes" id="editar-usuarios"></div>
          </div>
          <button type="submit" class="form__btn">Guardar Cambios</button>
        </form>
        <pre id="resultado-editar" class="resultado"></pre>
      </div>
    </div>

    <!-- MODAL VER -->
    <div id="modal-ver" class="modal">
      <div class="modal__content">
        <span class="modal__close" onclick="cerrarModal('ver')">&times;</span>
        <h2 class="modal__title">Detalles de Asociación</h2>
        <div class="ver__contenido" id="ver-detalles"></div>
      </div>
    </div>
  </main>

  <script src="p.js"></script>
</body>
</html>
